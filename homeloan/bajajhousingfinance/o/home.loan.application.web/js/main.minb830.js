function inrFormat(e) { e = e.toString(), e.indexOf(",") > -1 && (e = e.replace(/\,/g, "")); var t = e.replace(/\D/g, "").substring(e.length - 3), r = e.substring(0, e.length - 3); "" != r && (t = "," + t); var a = r.replace(/\D/g, "").replace(/\B(?=(\d{2})+(?!\d))/g, ",") + t; return a } function setPortletNamespace(e) { portletNamespace = e } function handlePasteOTP(e) { var t = e.clipboardData || window.clipboardData || e.originalEvent.clipboardData, r = t.getData("Text"), a = r.toString().split(""); if (isNaN(parseInt(r, 10))) e.preventDefault(); else { for (var n = 0; n < a.length; n++) { if (!(n >= 0)) return; document.getElementById("otp-number-input-" + (n + 1)).value = a[n] } e.preventDefault() } } function validateOTPChar(e) { return /^\d$/.test(e) } function fullNameValidate(e) { var t = $(e).val().trim(); return $(e).val(t), /^[a-zA-Z ]*$/g.test($(e).val()) ? 1 == $(e).val().split(" ").length ? ($(e).siblings("small").text("Please enter your full name"), $(e).siblings("small").addClass("error"), f_n = 0) : $(e).val().split(" ").length > 4 ? ($(e).siblings("small").text("More than 3 space is not allowed"), $(e).siblings("small").addClass("error"), f_n = 0) : ($(e).siblings("small").text("Please enter your name as it appears on your PAN Card"), $(e).siblings("small").removeClass("error"), f_n = 1) : ($(e).siblings("small").text("Special characters and numeric characters are not allowed"), $(e).siblings("small").addClass("error"), f_n = 0), 1 != f_n ? 1 : 0 } function mobileNumberValidate(e) { var t = $(e).val(); if ("" == t) $(e).siblings("small").text("Please enter your 10-digit phone number"), $(e).siblings("small").addClass("error"), mobVal = 0; else if (/^[6-9].*/.test($(e).val())) if (/^[0-9]+$/.test($(e).val())) { var r = $(e).val(); r.length < 10 ? (mobVal = 0, $(e).siblings("small").text("Please enter a valid 10-digit mobile number"), $(e).siblings("small").addClass("error")) : (mobVal = 1, $(e).siblings("small").text("Please enter your 10-digit phone number"), $(e).siblings("small").removeClass("error")) } else $(e).siblings("small").text("Please enter a valid 10-digit mobile number"), $(e).siblings("small").addClass("error"), mobVal = 0; else $(e).siblings("small").text("Mobile number should start with 9 or 8 or 7 or 6"), $(e).siblings("small").addClass("error"), mobVal = 0; return 1 != mobVal ? 1 : 0 } function otpTimer() { var e = 60; $("#ten-countdown").text(e), interval = setInterval(function () { if (e--, e <= 0) return clearInterval(interval), $("#resendOtpId").show(), $("#resendOTPValid").hide(), void $("#timerId").hide(); $("#ten-countdown").text(e) }, 1e3) } function ajaxCall(e, t) { var r; for (tempURL = e, indexOfquestMark = tempURL.indexOf("?"), e = tempURL.substring(0, indexOfquestMark), paramStr = tempURL.substring(indexOfquestMark + 1), params = paramStr.split("&"), t = {}, i = 0; i < params.length; i++)indexOfEqual = params[i].indexOf("="), t[params[i].substring(0, indexOfEqual)] = params[i].substring(indexOfEqual + 1); return $.ajax({ url: e, method: "POST", async: !1, data: t, success: function (e) { r = JSON.parse(e) } }), hideLoader(), r } function sendOTP(e) { showLoader(), setTimeout(async function () { if (clearOTP(), document.getElementById("icorrect_otp").style.display = "none", document.getElementById("name_valid").style.display = "none", 1 == f_n && 1 == mobVal) return document.getElementById("name_valid").style.display = "none", requestURL = $("#send-otp-url").html(), requestURL = $.trim(requestURL), requestURL = requestURL.replaceAll("&amp;", "&"), requestURL = requestURL + "&" + portletNamespace + "mobileNumber=" + e, requestURL = requestURL + "&" + portletNamespace + "firstName=" + $("#fullName").val(), requestURL = requestURL + "&" + portletNamespace + "journey=" + $("#journey").val(), requestData = {}, response = ajaxCall(requestURL, requestData), 200 == response.status ? ($("#resendOTPValid").show(), $("#timerId").show(), $("#resendOtpId").hide(), $("#basictriggerId").removeClass("next_timeline"), $("#basictriggerId").addClass("active_timeline"), $("#generateTriggerId").addClass("next_timeline"), token = response.token, document.getElementById("genrate_otp_div").style.display = "block", document.getElementById("basic_form_div").style.display = "none", otpTimer(), !0) : (401 == response.status && (document.getElementById("icorrect_otp").innerHTML = "You have exceeded the maximum number of attempts. Please try after 60 minutes.", document.getElementById("icorrect_otp").style.display = "block", document.getElementById("name_valid").style.display = "none"), !1); fullNameValidate("#fullName"), mobileNumberValidate("#mobile_id") }, 3) } function clearOTP() { for (i = 1; i <= 6; i++)id = "#otp-number-input-" + i, $(id).val(""); $("#otp-number-input-1").focus() } function change_numberOTP() { addGTMEventForResendOTPOrChangeMobileNumber(!1), clearInterval(interval), document.getElementById("name_valid").style.display = "none", document.getElementById("genrate_otp_div").style.display = "none", document.getElementById("basic_form_div").style.display = "block", document.getElementById("icorrect_otp").style.display = "none", $("#basictriggerId").addClass("next_timeline"), $("#basictriggerId").removeClass("active_timeline"), $("#generateTriggerId").removeClass("next_timeline") } function validateOTP(e, t) { return requestURL = $("#validate-otp-url").html(), requestURL = $.trim(requestURL), requestURL = requestURL.replaceAll("&amp;", "&"), requestURL = requestURL + "&" + portletNamespace + "mobileNumber=" + t, requestURL = requestURL + "&" + portletNamespace + "token='" + token + "'", requestURL = requestURL + "&" + portletNamespace + "otp=" + e, requestData = {}, response = ajaxCall(requestURL, requestData), 200 == response.status ? (document.getElementById("icorrect_otp").style.display = "none", document.getElementById("name_valid").style.display = "none", !0) : 301 != response.status ? (document.getElementById("icorrect_otp").innerHTML = "Invalid OTP. Please enter the valid OTP to proceed.", document.getElementById("icorrect_otp").style.display = "block", document.getElementById("name_valid").style.display = "none", !1) : (document.getElementById("icorrect_otp").innerHTML = "OTP expired. Please generate a new OTP to proceed.", document.getElementById("icorrect_otp").style.display = "block", void (document.getElementById("name_valid").style.display = "none")) } function makeLMSCall(e, t) { requestData = {}, requestData.responseType = e, requestData.journey = $("#journey").val(); var r = getCookie("LastClickCookie"); if (params = getParamsFromURL(window.location.href), params.hasOwnProperty("utm_source") && (requestData.utmSource = params.utm_source), params.hasOwnProperty("utm_medium") && (requestData.utmMedium = params.utm_medium), params.hasOwnProperty("utm_campaign") && (requestData.utmCampaign = params.utm_campaign), params.hasOwnProperty("utm_content") && (requestData.utmContent = params.utm_content), params.hasOwnProperty("campaign_name") && (requestData.campaignName = params.campaign_name), t && (requestData.save = !0), $("#customerId").length && null != $("#customerId").val() && "" != $("#customerId").val() && (requestData.customerToken = $("#customerId").val()), $("#fullName").length && null != $("#fullName").val() && "" != $("#fullName").val()) { var a = $("#fullName").val(), n = a.substring(0, a.indexOf(" ")), l = a.substring(a.indexOf(" ") + 1); requestData.firstName = n, requestData.lastName = l } if ($("#mobile_id").length && null != $("#mobile_id").val() && "" != $("#mobile_id").val() && (requestData.mobileNumber = $("#mobile_id").val()), $('input[name$="occupation"]:checked').length > 0 && (requestData.occupationType = $('input[name$="occupation"]:checked').val()), $("#typeOfLoanId").length && null != $("#typeOfLoanId").val() && "0" != $("#typeOfLoanId").val() && (requestData.loanType = $("#typeOfLoanId").val()), $("#netMonthlySal").length && null != $("#netMonthlySal").val() && "" != $("#netMonthlySal").val() && (requestData.monthlyIncome = $("#netMonthlySal").val()), $("#pincodeId").length && null != $("#pincodeId").val() && "" != $("#pincodeId").val() && (requestData.pincode = $("#pincodeId").val()), $("#requiredLoanAmountId").length && null != $("#requiredLoanAmountId").val() && "" != $("#requiredLoanAmountId").val() && (requestData.requiredLoanAmount = $("#requiredLoanAmountId").val()), $("#propertyIdentifiedId").length && null != $("#propertyIdentifiedId").val() && "0" != $("#propertyIdentifiedId").val() && (requestData.propertyIdentified = $("#propertyIdentifiedId").val()), $("#propertyTypeId").length && null != $("#propertyTypeId").val() && "0" != $("#propertyTypeId").val() && ("Yes" == $("#propertyIdentifiedId").val() ? requestData.propertyType = $("#propertyTypeId").val() : requestData.propertyType = ""), $("#propertyLocationId").length && null != $("#propertyLocationId").val() && "0" != $("#propertyLocationId").val() && (requestData.propertyLocation = $("#propertyLocationId").val()), $("#bankTransferBankNameId").length && null != $("#bankTransferBankNameId").val() && "0" != $("#bankTransferBankNameId").val() && (requestData.currentBankName = $("#bankTransferBankNameId").val()), $("#monthlyObligationId").length && null != $("#monthlyObligationId").val() && "" != $("#monthlyObligationId").val() && (requestData.monthlyObligations = $("#monthlyObligationId").val()), $("#sanctionedLoanAmountValueId").length && null != $("#sanctionedLoanAmountValueId").val() && "" != $("#sanctionedLoanAmountValueId").val() && (requestData.sanctionedLoanAmount = $("#sanctionedLoanAmountValueId").val().replaceAll(",", "")), $("#degreeId").length && null != $("#degreeId").val() && "0" != $("#degreeId").val() && (requestData.nameOfdegree = $("#degreeId").val()), $("#workExperienceId").length && null != $("#workExperienceId").val() && "" != $("#workExperienceId").val() && (requestData.experience = $("#workExperienceId").val()), $("#businessVintageId").length && null != $("#businessVintageId").val() && "0" != $("#businessVintageId").val() && (requestData.businessVintage = $("#businessVintageId").val()), $("#natureOfBusinessId").length && null != $("#natureOfBusinessId").val() && "0" != $("#natureOfBusinessId").val() && (requestData.natureOfBusiness = $("#natureOfBusinessId").val()), $("#estimationPropertyValueId").length && null != $("#estimationPropertyValueId").val() && "0" != $("#estimationPropertyValueId").val() && (requestData.estimatedPropertyValue = $("#estimationPropertyValueId").val()), $("#downPaymentCompletedId").length && null != $("#downPaymentCompletedId").val() && "0" != $("#downPaymentCompletedId").val() && (requestData.downPaymentCompleted = $("#downPaymentCompletedId").val()), $("#loanStartDateHl").length && null != $("#loanStartDateHl").val() && "" != $("#loanStartDateHl").val()) { var o = "01/" + $("#loanStartDateHl").val(), i = o.split("/"), s = i[2] + "-" + i[1] + "-" + i[0]; requestData.loanStartDate = s } null != r && null != r && "0" != r && (requestData.utmProduct = r), console.log(requestData); var d = window.location.origin + "/o/quick-apply/lms-call"; $.ajax({ url: d, method: "POST", async: !0, data: JSON.stringify(requestData), contentType: "application/json; charset=utf-8", dataType: "json", success: function (e) { console.log(e), t && null != e.customerId && $("#customerId").val(e.customerId), t && null != e.customerToken && $("#customerId").val(e.customerToken) } }) } function validatePincode() { var e = !1; requestPincodeData = {}, requestPincodeData.occupation = $('input[name$="occupation"]:checked').val(), requestPincodeData.pincode = $("#pincodeId").val(), requestPincodeData.typeOfLoan = $("#typeOfLoanId").val(), requestPincodeData.journey = $("#journey").val(); var t = "https://lendingleaf.in/homeloan/bajajhousingfinance/o/quick-apply/validate-pincode/"; return $.ajax({ url: t, method: "POST", async: !1, data: JSON.stringify(requestPincodeData), contentType: "application/json; charset=utf-8", dataType: "json", success: function (t, r, a) { console.log(a.status), console.log(t), 200 == t.statusCode && "success" == t.statusMessage && (console.log("Suceessfull pincode"), e = !0) } }), e } function getParamsFromURL(e) { var t = {}; if (-1 == e.indexOf("?")) return t; for (var r = e.slice(e.indexOf("?") + 1).split("&"), a = 0; a < r.length; a++)pair = r[a].split("="), t[pair[0].toLowerCase()] = decodeURIComponent(pair[1]); return t } function addGTMEventForTextFields(e) { result = dataLayer.push({ event: "form_text_fill", eventCategory: "form_filled", eventAction: $(e).siblings("label").text(), form_type: formTypeVal, client_id: "" }) } function addGTMEventForDropdownSelects(e) { result = dataLayer.push({ event: "form_option_selected", eventCategory: "form_filled", eventAction: $('option[value="0"]', e).text(), eventLabel: $("option:selected", e).text(), form_type: formTypeVal, client_id: "" }) } function addGTMEventForRadioButtons(e, t) { result = dataLayer.push({ event: "form_option_selected", eventCategory: "form filled", eventAction: $(e).siblings("label").text(), eventLabel: $(e).siblings("label").text(), form_type: formTypeVal, client_id: "" }) } function addGTMEventForProceed(e, t) { null == e && (e = $("ul.timeline .next_timeline").text().trim()), dataLayer.push({ event: "form_proceed_next_step", eventCategory: "form filled", eventAction: t, eventLabel: e, form_type: formTypeVal, client_id: "" }) } function addGTMEventForResendOTPOrChangeMobileNumber(e) { eventLabel = "change_mobile_number", e && (eventLabel = "resend_otp"), dataLayer.push({ event: "form_otp_verify_action", eventCategory: "form filled", eventAction: "otp_verification_action", eventLabel: eventLabel, form_type: formTypeVal, client_id: "" }) } function addGTMEventForCheckBox() { dataLayer.push({ event: "form_check_box", eventCategory: "form_filled", eventAction: "checked", form_type: formTypeVal, client_id: "" }) } function addGTMEventForSubmit() { dataLayer.push({ event: "form_submit_successful", eventCategory: "form_filled", eventAction: "form_submitted", eventLabel: "successful", form_type: formTypeVal, client_id: "" }) } function showLoader() { $("#loaderHLLAPId").show(1, "linear") } function hideLoader() { $("#loaderHLLAPId").hide() } function loanStartDateValidation(e) { error = 0; var t = $(e).val(); if (console.log("entered date", t), "" == t || null == t) return ++error, $(e).siblings("small").text("Please enter your loan start date in the MM/YYYY format"), void $(e).siblings("small").addClass("error"); var r = t.split("/"), a = r[1], n = r[0], l = "01", o = getMob(a + "/" + n + "/" + l); t = l + "/" + t, console.log("passing to regex", t), console.log("age", o); var i = /^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/; return i.test(t) ? 0 == o ? (++error, $(e).siblings("small").text("Please enter the start date of your existing loan "), $(e).siblings("small").addClass("error")) : "0000" == a || o > 480 ? (++error, $(e).siblings("small").text("Please enter the correct loan start date"), $(e).siblings("small").addClass("error")) : o < 12 ? (++error, $(e).siblings("small").text("Sorry, your existing loan should be active for a minimum of 12 months from the current date"), $(e).siblings("small").addClass("error")) : isNaN(o) || o < 0 ? (++error, $(e).siblings("small").text("Please enter the correct loan start date"), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").text("Please enter your loan start date in the MM/YYYY format "), $(e).siblings("small").removeClass("error")) : (++error, $(e).siblings("small").text("Please enter the correct loan start date"), $(e).siblings("small").addClass("error")), error } function getMob(e) { var t, r = new Date(e), a = new Date; return t = 12 * (a.getFullYear() - r.getFullYear()), t -= r.getMonth(), t += a.getMonth(), t <= 0 ? 0 : t } function getAge(e) { console.log(e); var t = new Date, r = new Date(e); console.log(r); var a = t.getFullYear() - r.getFullYear(), n = t.getMonth() - r.getMonth(); return (n < 0 || 0 === n && t.getDate() < r.getDate()) && a--, console.log(a), a } function netcoreEventOnVerificationOfOtp() { var e = $("#fullName").val(), t = $("#mobile_id").val(), r = $('input[name$="occupation"]:checked').val(), a = $("#typeOfLoanId").val(), n = $("#netMonthlySal").val(); null != n && (n = Number(n.replaceAll(",", ""))); var l = $("#pincodeId").val(), o = $("#requiredLoanAmountId").val(); null != o && (o = Number(o.replaceAll(",", ""))), t = "91" + t, smartech("contact", netcoreId, { "pk^mobile": t, FULL_NAME: e }), smartech("identify", t), smartech("dispatch", screenName, { full_name: e, mobile_number: t, occupation_type: r, loan_type: a, net_monthly_income: n, pin_code: l, required_loan_amount: o, page_url: pageUrl }) } function netcoreEventOnFinalsubmit() { var e = $("#propertyIdentifiedId").val(), t = $("#propertyTypeId").val(), r = $("#estimationPropertyValueId").val(); null != r && (r = Number(r.replaceAll(",", ""))); var a = $("#downPaymentCompletedId").val(), n = $("#monthlyObligationId").val(); null != n && (n = Number(n.replaceAll(",", ""))); var l = $("#bankTransferBankNameId").val(), o = $("#sanctionedLoanAmountValueId").val(); null != o && (o = Number(o.replaceAll(",", ""))); var i = $("#propertyLocationId").val(), s = $("#workExperienceId").val(); if ("HL-Fresh" == loanTypeValue && "HLA" == journeyVal) smartech("dispatch", "HL_Application_Screen2Fresh", { property_identified: e, property_type: t, estimated_property_value_new: r, down_payment_completed: a, monthlyobligation_new: n, page_url: pageUrl }); else if ("HL-BT" == loanTypeValue && "HLA" == journeyVal) { var d = $("#loanStartDateHl").val(), u = d.split("/"), m = (u[1], u[0], "01"), c = "00"; d = u[1] + "-" + u[0] + "-" + m + " " + c + ":" + c + ":" + c, smartech("dispatch", "HL_Application_Screen2BT", { current_lender: l, sanctioned_loan_amount_new: o, loan_start_date: d, monthly_obligation_new: n, page_url: pageUrl }) } "LAP-Fresh" == loanTypeValue && "LAP" == journeyVal ? smartech("dispatch", "LAP_Application_Screen2Fresh", { property_location: i, estimated_property_value: r, work_experience: s, page_url: pageUrl }) : "LAP-BT" == loanTypeValue && "LAP" == journeyVal && smartech("dispatch", "LAP_Application_Screen2BT", { property_location: i, current_lender: l, estimated_property_value: r, sanctioned_loan_amount: o, page_url: pageUrl }) } function netcoreEventForFormFields(e) { var t = $("#fullName").val(); e = "91" + $(e).val(), smartech("contact", netcoreId, { "pk^mobile": e, FULL_NAME: t }), smartech("identify", e), smartech("dispatch", "form_text_fill", { full_name: t, mobile_number: e, page_url: pageUrl }) } var portletNamespace, token, validateName, f_n, mobVal, totalIncome, loanTypeValue; validateName = 0, f_n = 0, mobVal = 0; var netcoreId = 0, screenName = "", journeyVal = ""; const formTypeVal = window.location.pathname.replace("/", ""); var interval, pageUrl = window.location.href; $(document).ready(function () { function e(e) { return e.replace(/[^0-9]+/g, "") } function t(e) { error = 0, "HLA" == journeyVal ? (errorMsg = "Your income should be higher than Rs.10,000 to be eligible", netMonthlyIncome = 1e4) : (errorMsg = "Your income should be higher than Rs.25,000 to be eligible", netMonthlyIncome = 25e3); var t = $('input[name$="occupation"]:checked').val(); if ("Salaried" == t) { var r = $(e).val(), a = r.replaceAll(",", ""); "" == r ? (++error, $(e).siblings("small").text("Please enter your net monthly income in Rupees"), $(e).siblings("small").addClass("error")) : Number(a) < netMonthlyIncome ? (++error, $(e).siblings("small").text(errorMsg), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").text("Please enter net monthly salary/income"), $(e).siblings("small").removeClass("error")) } else "Self-Employed" != t && "Self-Employed Doctors" != t || (error = 0); return error } function r(e) { error = 0; var t = $(e).val(), r = t.replaceAll(",", ""); return r > 0 ? r < 1e6 ? (++error, $(e).siblings("small").text("Sorry, the minimum property value should be Rs. 10 Lakh "), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").text("Please enter the estimated current market value of your property"), $(e).siblings("small").removeClass("error")) : (++error, $(e).siblings("small").removeClass("error")), error } function a(e) { if (error = 0, /^[0-9]+$/.test($(e).val())) { var t = $(e).val(); 6 != t.length ? ($(e).siblings("small").text("Please enter your six-digit residential PIN code"), $(e).siblings("small").addClass("error"), ++error) : ($(e).siblings("small").text("Please enter your six-digit residential PIN code"), $(e).siblings("small").removeClass("error")), validatePincode() ? ($(e).siblings("small").text("Please enter your six-digit residential PIN code"), $("#pincodeId").siblings("small").removeClass("error")) : ($("#pincodeId").siblings("small").text("Service is not available on this PIN code"), $("#pincodeId").siblings("small").addClass("error"), ++error) } else $(e).siblings("small").text("Please enter your six-digit residential PIN code"), $(e).siblings("small").addClass("error"), ++error; return error } function n(e) { return console.log("change"), error = 0, "0" == $(e).val() ? (error = 1, $(e).siblings("small").addClass("error")) : $(e).siblings("small").removeClass("error"), error } function l(e) { error = 0; var t = $(e).val(), r = t.replaceAll(",", ""); return "" == t ? (++error, $(e).siblings("small").addClass("error")) : Number(r) < 1e5 ? (++error, $(e).siblings("small").text("The loan amount must be higher than Rs.1,00,000"), $(e).siblings("small").addClass("error")) : Number(r) > 25e7 ? (++error, $(e).siblings("small").text("The loan amount should be lower than Rs.25 Cr"), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").text("Please enter the loan amount you would like to apply for"), $(e).siblings("small").removeClass("error")), error } function o(e) { error = 0; var t = $(e).val().replaceAll(",", ""); return "" == t ? (++error, $(e).siblings("small").addClass("error")) : t < 1e6 ? (++error, $(e).siblings("small").text("Sorry, the minimum Sanction Loan Amount should be Rs. 10 Lakh"), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").text("Please enter your sanction loan amount"), $(e).siblings("small").removeClass("error")), error } function i(e) { error = 0; var t = $(e).val().replaceAll(",", ""); return "" == t ? (++error, $(e).siblings("small").text("Please enter monthly\tobligation"), $(e).siblings("small").addClass("error")) : totalIncome <= t ? (++error, $(e).siblings("small").text("Monthly obligations cannot be more than Net Monthly Salary / Income"), $(e).siblings("small").addClass("error")) : totalIncome - t < 1e4 ? (++error, $(e).siblings("small").text("Eligibility criteria: Net income – obligation > Rs. 10,000"), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").text("Please enter monthly\tobligation"), $(e).siblings("small").removeClass("error")), error } function s(e) { error = 0; var t = $(e).val(); return "" == t ? (++error, $(e).siblings("small").addClass("error"), $(e).siblings("small").text("Please enter your total work experience (in years)")) : t < 3 ? (++error, $(e).siblings("small").addClass("error"), $(e).siblings("small").text("Sorry, you must have a minimum of 3 years of experience to be eligible")) : t.length > 2 || !/^[0-9]+$/.test($(e).val()) ? (++error, $(e).siblings("small").text("Please enter your total work experience (in years)"), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").removeClass("error"), $(e).siblings("small").text("Please enter your total work experience post qualification")), error } function d(e) { error = 0; var t = $(e).val(), r = t.split("/"), a = r[2], n = r[1], l = r[0], o = getAge(a + "/" + n + "/" + l), i = /^[0-9]{2}\/[0-9]{2}\/[0-9]{4}$/; return i.test(t) ? o < 23 || o > 60 ? (++error, $(e).siblings("small").text("You need to be between 23 and 60 years of age to be eligible"), $(e).siblings("small").addClass("error")) : ($(e).siblings("small").text("Please enter date of birth"), $(e).siblings("small").removeClass("error")) : (++error, $(e).siblings("small").text("Enter valid date of birth"), $(e).siblings("small").addClass("error")), error } function u(e) { return error = 0, $(e).is(":checked") ? $("#termsAndConditionhllapError").hide() : ($("#termsAndConditionhllapError").show(), error++), error } journeyVal = $("#journey").val(), "HLA" == journeyVal ? (netcoreId = 16, screenName = "HL_Application_Screen1") : (netcoreId = 36, screenName = "LAP_Application_Screen1"), $(".otp-event").each(function () { var e = $(this).find(".otp-number-input"), t = $(this).find(".otp-submit"); e.keydown(function (e) { if (otp_val = $(this).val(), 37 == e.keyCode) $(this).prev().focus(), e.preventDefault(); else if (39 == e.keyCode) $(this).next().focus(), e.preventDefault(); else if (1 == otp_val.length && 8 != e.keyCode && 46 != e.keyCode) { if (!validateOTPChar(otp_val)) return void $(this).val(""); otp_next_number = $(this).next(), 1 == otp_next_number.length && 0 == otp_next_number.val().length && otp_next_number.focus() } else if (0 == otp_val.length && 8 == e.keyCode) $(this).prev().val(""), $(this).prev().focus(); else if (1 == otp_val.length && 8 == e.keyCode) $(this).val(""); else if (0 == otp_val.length && 46 == e.keyCode) for (next_input = $(this).next(), next_input.val(""); next_input.next().length > 0;)if (next_input.val(next_input.next().val()), next_input = next_input.next(), 0 == next_input.next().length) { next_input.val(""); break } }).focus(function () { $(this).select(); var e = $(this).prev().val(); "" === e ? $(this).prev().focus() : $(this).next().val() && $(this).next().focus() }).keyup(function (r) { if (otpCodeTemp = "", e.each(function (e) { 0 != $(this).val().length ? $(this).addClass("otp-filled-active") : $(this).removeClass("otp-filled-active"), otpCodeTemp += $(this).val() }), 1 == $(this).val().length && 37 != r.keyCode && 39 != r.keyCode) { if (!validateOTPChar($(this).val())) return void $(this).val(""); $(this).next().focus(), r.preventDefault() } e.each(function (e) { "" != $(this).val() ? t.prop("disabled", !1) : t.prop("disabled", !0) }) }), e.on("paste", function (e) { window.handlePasteOTP(e) }) }), $("#confirm").click(function (e) { const t = $(this).text(); e.preventDefault(), showLoader(), setTimeout(async function () { error = 0, validateOTP(document.getElementById("otp-number-input-1").value + document.getElementById("otp-number-input-2").value + document.getElementById("otp-number-input-3").value + document.getElementById("otp-number-input-4").value + document.getElementById("otp-number-input-5").value + document.getElementById("otp-number-input-6").value, document.getElementById("mobile_id").value) && error++, 1 == error && (netcoreEventOnVerificationOfOtp(), addGTMEventForProceed(void 0, t), showLoader(), $("#submit_basic_form").submit()) }, 3) }), $("#resendOtpId").hide(), $("#fullName").keyup(function () { $(this).val($(this).val().replace(/[^a-zA-Z ]*$/, "")) }), $("#generateBAsicOtp").click(function (e) { e.preventDefault(); var r = $('input[name$="occupation"]:checked').val(); error = 0, error += n($("#typeOfLoanId")), error += a($("#pincodeId")), "Salaried" == r && (error += t($("#netMonthlySal"))), error += fullNameValidate("#fullName"), error += mobileNumberValidate("#mobile_id"), error += u("#termsAndConditionhllap"), $("#requiredLoanAmountId").length && (error += l($("#requiredLoanAmountId"))), 0 == error && (validatePincode() ? (addGTMEventForProceed(void 0, $(this).text()), sendOTP($("#mobile_id").val())) : ($("#pincodeId").siblings("small").text("Service is not available on this PIN code"), $("#pincodeId").siblings("small").addClass("error"))) }); var m = document.getElementById("mobile_id"); null != m && m.addEventListener("keyup", function () { var t = m.value; m.value = e(t) }), $("#mobile_id").blur(function () { error = mobileNumberValidate(this), 0 == error && addGTMEventForTextFields(this); var e = fullNameValidate("#fullName"); 0 == error && 0 == e && netcoreEventForFormFields(this) }), $("#fullName").blur(function () { error = fullNameValidate(this), 0 == error && addGTMEventForTextFields(this) }), $('input[name$="occupation"]').change(function () { addGTMEventForRadioButtons(this, "") }), $("#netMonthlySal").keyup(function () { $(this).val($(this).val().replace(/^(0*)/, "")), $(this).val(inrFormat($(this).val())) }), $("#netMonthlySal").blur(function () { error = t(this), 0 == error && addGTMEventForTextFields(this) }), $("#estimationPropertyValueId").keyup(function () { $(this).val($(this).val().replace(/^(0*)/, "")), $(this).val(inrFormat($(this).val())) }), $("#estimationPropertyValueId").blur(function () { error = r(this), 0 == error && addGTMEventForTextFields(this) }), $("#pincodeId").blur(function () { error = a(this), 0 == error && addGTMEventForTextFields(this) }), $("#pincodeId").keyup(function () { $(this).val($(this).val().replace(/[^0-9]/, "")) }), $("#typeOfLoanId").change(function () { error = n(this), 0 == error && addGTMEventForDropdownSelects(this) }), $("#bankTransferBankNameId").change(function () { error = n(this), 0 == error && addGTMEventForDropdownSelects(this) }), $("#propertyIdentifiedId").change(function () { error = n(this), "No" == $(this).val() ? ($(".propertyTypeIdColClass").addClass("hide"), $(".estimatedPropVal").addClass("hide")) : "Yes" == $(this).val() && ($(".propertyTypeIdColClass").removeClass("hide"), $(".estimatedPropVal").removeClass("hide")), 0 == error && addGTMEventForDropdownSelects(this) }), $("#downPaymentCompletedId").change(function () { error = n(this), 0 == error && addGTMEventForDropdownSelects(this) }), $("#propertyTypeId").change(function () { "Yes" == $("#propertyIdentifiedId").val() && (error = n(this), 0 == error && addGTMEventForDropdownSelects(this)) }), $("#propertyLocationId").change(function () { error = n(this), 0 == error && addGTMEventForDropdownSelects(this) }), $("#requiredLoanAmountId").keyup(function () { $(this).val($(this).val().replace(/^(0*)/, "")), $(this).val(inrFormat($(this).val())) }), $("#requiredLoanAmountId").blur(function () { reLoanAmntValdn = l(this), 0 == reLoanAmntValdn && addGTMEventForTextFields(this); var e = 0; e += fullNameValidate("#fullName"), e += mobileNumberValidate("#mobile_id"), e += n($("#typeOfLoanId")), e += a($("#pincodeId")), 0 == e && 0 == reLoanAmntValdn && makeLMSCall("WARM", !0) }), $("#monthlyObligationId").keyup(function () { $(this).val(inrFormat($(this).val())) }), $("#monthlyObligationId").blur(function () { error = i(this), 0 == error && addGTMEventForTextFields(this) }), $("#degreeId").change(function () { error = n(this), 0 == error && addGTMEventForDropdownSelects(this) }), $("#workExperienceId").blur(function () { error = s(this), 0 == error && addGTMEventForTextFields(this) }), $("#sanctionedLoanAmountValueId").keyup(function () { $(this).val(inrFormat($(this).val())) }), $("#sanctionedLoanAmountValueId").blur(function () { error = o(this), 0 == error && addGTMEventForTextFields(this) }), $("#businessVintageId").change(function () { error = n(this), 0 == error && addGTMEventForDropdownSelects(this) }), $("#natureOfBusinessId").change(function () { error = n(this), 0 == error && addGTMEventForDropdownSelects(this) }), $("#dateOfBirthId").change(function () { error = d(this), 0 == error && addGTMEventForTextFields(this) }), $("#loanStartDateHl").blur(function () { error = loanStartDateValidation(this), 0 == error && addGTMEventForTextFields(this) }), $("#termsAndConditionhllap").change(function () { u(this), $("#termsAndConditionhllap").is(":checked") && addGTMEventForCheckBox() }), $("#resendOtpId").click(function (e) { addGTMEventForResendOTPOrChangeMobileNumber(!0) }), $("#screenTwoSubmitBtnId").click(function (e) { e.preventDefault(), error = 0, $("#propertyIdentifiedId").length && (error += n($("#propertyIdentifiedId"))), $("#propertyTypeId").length && "Yes" == $("#propertyIdentifiedId").val() && (error += n($("#propertyTypeId"))), $("#propertyLocationId").length && (error += n($("#propertyLocationId"))), $("#bankTransferBankNameId").length && (error += n($("#bankTransferBankNameId"))), $("#requiredLoanAmountId").length && (error += l($("#requiredLoanAmountId"))), $("#monthlyObligationId").length && (error += i("#monthlyObligationId")), $("#degreeId").length && (error += n($("#degreeId"))), $("#workExperienceId").length && (error += s($("#workExperienceId"))), $("#sanctionedLoanAmountValueId").length && (error += o($("#sanctionedLoanAmountValueId"))), $("#businessVintageId").length && (error += n($("#businessVintageId"))), $("#natureOfBusinessId").length && (error += n($("#natureOfBusinessId"))), $("#loanStartDateHl").length && (error += loanStartDateValidation($("#loanStartDateHl"))), console.log(error), 0 == error && (netcoreEventOnFinalsubmit(), addGTMEventForSubmit(), showLoader(), setTimeout(async function () { $("#screenTwoFormId").submit() }, 3)) }); var c = getParamsFromURL(window.location.href); c.hasOwnProperty("utm_source") && $("#utmSourceId").val(c.utm_source), c.hasOwnProperty("utm_medium") && $("#utmMediumId").val(c.utm_medium), c.hasOwnProperty("utm_campaign") && $("#utmCampaignId").val(c.utm_campaign), c.hasOwnProperty("utm_content") && $("#utmContentId").val(c.utm_content), c.hasOwnProperty("campaign_name") && $("#campaignNameId").val(c.campaign_name) });